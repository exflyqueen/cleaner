<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Cleaner Boy ç¶²é </title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      text-align: center;
      background-image: url('LOGO.jpg');
      background-size: cover;
      background-attachment: fixed;
      background-repeat: no-repeat;
      background-position: center;
      margin: 0;
      padding: 0;
    }

    h2 {
      font-size: 24px;
      margin-top: 40px;
    }

    .section {
      background: rgba(255, 255, 255, 0.8);
      margin: 20px auto;
      padding: 20px;
      width: 80%;
      border-radius: 15px;
    }

    .flower {
      margin: 20px auto;
      width: 100px;
      height: 100px;
      background: url('https://cdn.pixabay.com/photo/2014/04/03/11/50/flower-312419_960_720.png') no-repeat center center;
      background-size: contain;
    }

    video {
      max-width: 90%;
      border-radius: 10px;
    }

    .quiz {
      margin-top: 20px;
    }

    .quiz button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      background-color: #3498db;
      color: white;
      cursor: pointer;
    }

    .quiz button:hover {
      background-color: #2980b9;
    }

    canvas {
      background-color: #dff6ff;
      display: block;
      margin: 20px auto;
      border: 2px solid #333;
    }

    #gameButtons {
      margin: 10px;
    }

    #gameButtons button {
      margin: 0 10px;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      background-color: #2ecc71;
      color: white;
      cursor: pointer;
    }

    #gameButtons button:hover {
      background-color: #27ae60;
    }
  </style>
</head>
<body>

  <!-- å½±ç‰‡å€ -->
  <div class="section">
    <h2>å½±ç‰‡ ğŸ¥</h2>
    <video controls>
      <source src="video.mp4" type="video/mp4">
      æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ’­æ”¾ã€‚
    </video>
  </div>

  <div class="flower"></div>

  <!-- å•ç­”å€ -->
  <div class="section">
    <h2>åœ°ç†å•ç­” ğŸ§ </h2>
    <div class="quiz">
      <p>åœ°çƒæ˜¯ç¬¬å¹¾é¡†è¡Œæ˜Ÿï¼Ÿ</p>
      <button onclick="alert('ç­”å°äº†ï¼')">ç¬¬ä¸‰</button>
      <button onclick="alert('ç­”éŒ¯äº†ï¼')">ç¬¬ä¸€</button>
      <button onclick="alert('ç­”éŒ¯äº†ï¼')">ç¬¬äºŒ</button>
    </div>
  </div>

  <div class="flower"></div>

  <!-- è·³èºéŠæˆ²å€ -->
  <div class="section">
    <h2>è·³èºéŠæˆ² ğŸ®</h2>
    <div id="gameButtons">
      <button onclick="startGame()">é–‹å§‹éŠæˆ²</button>
      <button onclick="restartGame()">é‡æ–°é–‹å§‹</button>
    </div>
    <canvas id="gameCanvas" width="600" height="200"></canvas>
    <p id="score">åˆ†æ•¸ï¼š0</p>
  </div>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const cleanerBoy = new Image();
    cleanerBoy.src = "cleaner-boy.png";

    const obstacles = [
      { src: "trash2.png", image: new Image() },
      { src: "trash3.png", image: new Image() },
      { src: "trash4.png", image: new Image() }
    ];
    obstacles.forEach(obj => obj.image.src = obj.src);

    let player = { x: 50, y: 150, width: 40, height: 40, vy: 0, jumping: false };
    let currentObstacles = [];
    let score = 0;
    let gameInterval;
    let gravity = 1.5;

    function drawPlayer() {
      ctx.drawImage(cleanerBoy, player.x, player.y, player.width, player.height);
    }

    function createObstacle() {
      const rand = Math.floor(Math.random() * obstacles.length);
      return {
        x: canvas.width,
        y: 160,
        width: 30,
        height: 30,
        image: obstacles[rand].image
      };
    }

    function drawObstacles() {
      currentObstacles.forEach(obs => {
        ctx.drawImage(obs.image, obs.x, obs.y, obs.width, obs.height);
      });
    }

    function updateGame() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawPlayer();
      drawObstacles();

      player.y += player.vy;
      player.vy += gravity;

      if (player.y > 150) {
        player.y = 150;
        player.vy = 0;
        player.jumping = false;
      }

      currentObstacles.forEach((obs, index) => {
        obs.x -= 5;
        if (obs.x + obs.width < 0) {
          currentObstacles.splice(index, 1);
          score++;
          document.getElementById("score").textContent = "åˆ†æ•¸ï¼š" + score;
        }

        if (
          player.x < obs.x + obs.width &&
          player.x + player.width > obs.x &&
          player.y < obs.y + obs.height &&
          player.y + player.height > obs.y
        ) {
          clearInterval(gameInterval);
          alert("éŠæˆ²çµæŸï¼ç¸½åˆ†ï¼š" + score);
        }
      });

      if (Math.random() < 0.02) {
        currentObstacles.push(createObstacle());
      }
    }

    function jump() {
      if (!player.jumping) {
        player.vy = -20;
        player.jumping = true;
      }
    }

    function startGame() {
      document.addEventListener("keydown", e => {
        if (e.code === "Space") jump();
      });
      if (!gameInterval) {
        gameInterval = setInterval(updateGame, 30);
      }
    }

    function restartGame() {
      clearInterval(gameInterval);
      player.y = 150;
      player.vy = 0;
      player.jumping = false;
      currentObstacles = [];
      score = 0;
      document.getElementById("score").textContent = "åˆ†æ•¸ï¼š0";
      gameInterval = null;
    }
  </script>

</body>
</html>
