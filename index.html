<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>醫院主題網頁</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-image: url('LOGO.jpg');
      background-size: 200px;
      background-repeat: repeat;
      opacity: 0.95;
    }
    .section {
      padding: 30px;
      background-color: rgba(255, 255, 255, 0.9);
      margin: 30px auto;
      max-width: 800px;
      border-radius: 15px;
    }
    .flower-divider {
      width: 100%;
      display: block;
      margin: 30px auto;
    }
    h2 {
      text-align: center;
    }
    #gameCanvas {
      display: block;
      margin: 0 auto;
      background: #d0f0ff;
      border: 2px solid #000;
    }
    #quiz {
      display: none;
      text-align: center;
      margin-top: 20px;
    }
    #choices button {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <!-- 影片區塊 -->
  <div class="section">
    <h2>📹 介紹影片</h2>
    <video src="your-video.mp4" controls width="100%"></video>
  </div>

  <img class="flower-divider" src="flower.png" alt="花朵分隔線">

  <!-- 問答區塊 -->
  <div class="section">
    <h2>🧠 問答</h2>
    <p>以下哪一項是清潔人員在醫院中最常處理的垃圾之一？</p>
    <ul>
      <li>🔘 咖啡渣</li>
      <li>🔘 用過的衛生紙</li>
      <li>🔘 零錢</li>
      <li>🔘 書本</li>
    </ul>
  </div>

  <img class="flower-divider" src="flower.png" alt="花朵分隔線">

  <!-- 跳躍遊戲區塊 -->
  <div class="section">
    <h2>🕹️ 清潔員大冒險</h2>
    <canvas id="gameCanvas" width="800" height="200"></canvas>

    <div id="quiz">
      <h2>問答時間</h2>
      <p id="question">這是題目</p>
      <div id="choices">
        <button onclick="checkAnswer(0)">選項 A</button>
        <button onclick="checkAnswer(1)">選項 B</button>
        <button onclick="checkAnswer(2)">選項 C</button>
        <button onclick="checkAnswer(3)">選項 D</button>
      </div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    const character = new Image();
    character.src = 'cleaner-boy.png';

    const obstacles = [
      { img: new Image(), x: 800 },
      { img: new Image(), x: 1200 },
      { img: new Image(), x: 1600 }
    ];
    obstacles[0].img.src = 'trash2.png';
    obstacles[1].img.src = 'trash3.png';
    obstacles[2].img.src = 'trash4.png';

    let charX = 50, charY = 150, charW = 40, charH = 50;
    let velocityY = 0, gravity = 1;
    let jumping = false;
    let isPaused = false;

    const quizData = [
      {
        question: "哪一項不是醫院常見的垃圾？",
        choices: ["止血棉花球", "用過的衛生紙", "咖啡杯", "藥物包裝"],
        correct: 2
      },
      {
        question: "誰是負責清潔醫院環境的重要角色？",
        choices: ["醫生", "護士", "清潔員", "志工"],
        correct: 2
      }
    ];
    let currentQuiz = 0;

    function showQuiz() {
      isPaused = true;
      document.getElementById("quiz").style.display = "block";
      document.getElementById("question").textContent = quizData[currentQuiz].question;
      const buttons = document.querySelectorAll("#choices button");
      buttons.forEach((btn, i) => {
        btn.textContent = quizData[currentQuiz].choices[i];
      });
    }

    function checkAnswer(index) {
      const quiz = quizData[currentQuiz];
      if (index === quiz.correct) {
        document.getElementById("quiz").style.display = "none";
        isPaused = false;
        currentQuiz = (currentQuiz + 1) % quizData.length;
      } else {
        alert("答錯了，遊戲結束！");
        location.reload();
      }
    }

    function updateGame() {
      if (isPaused) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      velocityY += gravity;
      charY += velocityY;
      if (charY > 150) {
        charY = 150;
        velocityY = 0;
        jumping = false;
      }

      ctx.drawImage(character, charX, charY, charW, charH);

      for (let obs of obstacles) {
        obs.x -= 5;
        if (obs.x < -40) {
          obs.x = Math.random() * 500 + 800;
        }
        ctx.drawImage(obs.img, obs.x, 160, 40, 40);

        if (
          charX < obs.x + 40 &&
          charX + charW > obs.x &&
          charY < 200 &&
          charY + charH > 160
        ) {
          showQuiz();
        }
      }

      requestAnimationFrame(updateGame);
    }

    window.addEventListener('keydown', function (e) {
      if (e.code === "Space" && !jumping && !isPaused) {
        velocityY = -15;
        jumping = true;
      }
    });

    character.onload = function () {
      updateGame();
    };
  </script>
</body>
</html>
