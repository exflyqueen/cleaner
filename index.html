<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>é«˜é›„å¸‚ç«‹å¤§åŒé†«é™¢äº’å‹•ç¶²é </title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: repeating-linear-gradient(
        rgba(255, 255, 255, 0.85),
        rgba(255, 255, 255, 0.85) 100px
      ),
      url('LOGO.jpg');
      background-size: 150px auto;
      background-repeat: repeat;
    }
    section {
      padding: 60px 20px;
      text-align: center;
    }
    video {
      max-width: 90%;
      border-radius: 16px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }
    .separator {
      width: 100%;
      height: 20px;
      background: url('flower.png') repeat-x center;
      background-size: auto 20px;
      margin: 40px 0;
    }
    .question-box {
      background: #fff;
      padding: 20px;
      margin: 20px auto;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      display: inline-block;
      text-align: left;
    }
    .question-box h3 {
      margin-top: 0;
    }
    .game-container {
      position: relative;
      width: 100%;
      height: 300px;
      background: #eef;
      overflow: hidden;
    }
    #character {
      width: 60px;
      position: absolute;
      bottom: 0;
      left: 50px;
    }
    .obstacle {
      position: absolute;
      bottom: 0;
      width: 50px;
      height: 50px;
    }
    #startBtn, #restartBtn {
      padding: 10px 20px;
      margin: 20px 10px;
      font-size: 16px;
    }
    #qaModal {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
    }
    #qaModal .modal-content {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      max-width: 400px;
      text-align: center;
    }
    .option-btn {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
    }
    /* æ¸…æ½”ä»»å‹™éŠæˆ²å€å¡Š */
    .cleaning-task {
      background: #f8f8ff;
      padding: 40px 20px;
      border-radius: 12px;
      margin: 40px auto;
      max-width: 800px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

<section>
  <h1>ğŸ¬ å½±ç‰‡</h1>
  <video controls>
    <source src="video.mp4" type="video/mp4">
    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ’­æ”¾ã€‚
  </video>
</section>

<div class="separator"></div>

<section>
  <h2>ğŸ“˜ å•ç­”</h2>
  <div class="question-box">
    <h3>ä»¥ä¸‹å“ªä¸€é …æ˜¯æ­£ç¢ºçš„æ‰‹éƒ¨è¡›ç”Ÿæ–¹å¼ï¼Ÿ</h3>
    <button class="option-btn">åªåœ¨åƒæ±è¥¿å‰æ´—æ‰‹</button>
    <button class="option-btn">æ¯æ¬¡å¦‚å»å¾Œéƒ½æ´—æ‰‹ âœ…</button>
    <button class="option-btn">æ¯å¤©åªæ´—ä¸€æ¬¡æ‰‹</button>
  </div>
</section>

<div class="separator"></div>

<section>
  <h2>ğŸ® è·³èºéŠæˆ²</h2>
  <button id="startBtn">é–‹å§‹éŠæˆ²</button>
  <button id="restartBtn" style="display:none;">é‡æ–°é–‹å§‹</button>
  <div class="game-container" id="gameArea">
    <img id="character" src="cleaner-boy.png">
  </div>
</section>

<!-- å•ç­”æ¨¡æ…‹è¦–çª— -->
<div id="qaModal">
  <div class="modal-content">
    <h3>å•ç­”</h3>
    <p>è«‹å•å“ªå€‹æ˜¯æ­£ç¢ºçš„åƒåœ¾åˆ†é¡æ–¹å¼ï¼Ÿ</p>
    <button onclick="checkAnswer(true)" class="option-btn">è¡€æ£‰çƒä¸Ÿå…¥é†«ç™‚å»¢æ£„ç‰© âœ…</button>
    <button onclick="checkAnswer(false)" class="option-btn">æ‰€æœ‰åƒåœ¾éƒ½ä¸Ÿå…¥è³‡æºå›æ”¶æ¡¶</button>
  </div>
</div>

<div class="separator"></div>

<section>
  <h2>ğŸ§¼ æ¸…æ½”ä»»å‹™å°éŠæˆ²ï¼ˆè©¦ä½œç‰ˆï¼‰</h2>
  <div class="cleaning-task">
    <p>ä¸»è§’æ˜¯ä¸€ä½ Q ç‰ˆæ¸…æ½”å“¡ï¼Œä»Šå¤©çš„ä»»å‹™æ˜¯æ¶ˆæ¯’ç—…æˆ¿èˆ‡è­·ç†ç«™ã€‚</p>
    <p><strong>æ“ä½œæç¤ºï¼š</strong>è«‹å°‡ã€Œæ‹–æ‹‰ç‰©ä»¶ã€æ‹–åˆ°å°æ‡‰å€åŸŸï¼ˆåŠŸèƒ½å°šæœªå•Ÿç”¨ï¼Œé ç•™æœªä¾†åŠŸèƒ½ï¼‰ã€‚</p>
    <ul>
      <li>ğŸ› ç—…äººè½‰åºŠå¾Œï¼Œéœ€è¦æ‹–æ‹‰é…’ç²¾æ£‰ç‰‡è‡³åºŠä½ã€‚</li>
      <li>ğŸš® åœ°ä¸Šæœ‰åƒåœ¾æ™‚éœ€æ‹–æ‹‰é€²åƒåœ¾æ¡¶ã€‚</li>
      <li>ğŸ§½ æ¯å®Œæˆä¸€å€åŸŸï¼Œå¾—åˆ† +1ã€‚</li>
    </ul>
    <p>æ­¤å€ç‚ºæƒ…å¢ƒå¼äº’å‹•æ¨¡çµ„é ç•™ï¼Œå¯é€²ä¸€æ­¥æ“´å±•æˆæ‹–æ›³äº’å‹•ã€‚</p>
  </div>
</section>

<script>
  const gameArea = document.getElementById('gameArea');
  const character = document.getElementById('character');
  const startBtn = document.getElementById('startBtn');
  const restartBtn = document.getElementById('restartBtn');
  const qaModal = document.getElementById('qaModal');

  let jumping = false;
  let gameRunning = false;
  let obstacleInterval;
  let obstacleSpeed = 1.2; // é™ä½é€Ÿåº¦
  let continueAfterQA = false;

  function jump() {
    if (jumping) return;
    jumping = true;
    let position = 0;
    const jumpUp = setInterval(() => {
      if (position >= 100) {
        clearInterval(jumpUp);
        const fallDown = setInterval(() => {
          if (position <= 0) {
            clearInterval(fallDown);
            jumping = false;
          } else {
            position -= 5;
            character.style.bottom = position + "px";
          }
        }, 20);
      } else {
        position += 5;
        character.style.bottom = position + "px";
      }
    }, 20);
  }

  function startGame() {
    startBtn.style.display = 'none';
    restartBtn.style.display = 'inline-block';
    gameRunning = true;
    createObstacle();
    document.addEventListener('keydown', jump);
    gameArea.addEventListener('touchstart', jump); // æ‰‹æ©Ÿæ”¯æ´
  }

  function endGame() {
    gameRunning = false;
    document.removeEventListener('keydown', jump);
    gameArea.removeEventListener('touchstart', jump);
    clearInterval(obstacleInterval);
    alert('éŠæˆ²çµæŸ');
  }

  function restartGame() {
    location.reload();
  }

  function createObstacle() {
    obstacleInterval = setInterval(() => {
      if (!gameRunning) return;
      const obstacle = document.createElement('img');
      const trashImages = ['trash2.png', 'trash3.png', 'trash4.png'];
      obstacle.src = trashImages[Math.floor(Math.random() * trashImages.length)];
      obstacle.className = 'obstacle';
      obstacle.style.left = '100%';
      gameArea.appendChild(obstacle);

      let left = 100;
      const move = setInterval(() => {
        if (!gameRunning) {
          clearInterval(move);
          return;
        }

        if (continueAfterQA) {
          continueAfterQA = false;
          gameArea.removeChild(obstacle);
          clearInterval(move);
          return;
        }

        left -= obstacleSpeed;
        obstacle.style.left = left + '%';

        const characterBottom = parseInt(character.style.bottom.replace("px", "")) || 0;
        if (left < 12 && left > 5 && characterBottom < 50) {
          clearInterval(move);
          showQA();
          gameArea.removeChild(obstacle);
        }

        if (left <= -10) {
          clearInterval(move);
          gameArea.removeChild(obstacle);
        }
      }, 30);
    }, 2000);
  }

  function showQA() {
    gameRunning = false;
    qaModal.style.display = 'flex';
  }

  function checkAnswer(correct) {
    if (correct) {
      continueAfterQA = true;
      gameRunning = true;
      qaModal.style.display = 'none';
    } else {
      qaModal.style.display = 'none';
      endGame();
    }
  }

  // å•ç­”é¸é …äº’å‹•ï¼ˆä¸€èˆ¬å•ç­”ï¼‰
  const quizButtons = document.querySelectorAll(".question-box .option-btn");
  quizButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      if (btn.innerText.includes("âœ…")) {
        alert("ç­”å°äº†ï¼");
      } else {
        alert("ç­”éŒ¯äº†ï¼");
      }
    });
  });

  startBtn.addEventListener("click", startGame);
  restartBtn.addEventListener("click", restartGame);
</script>

</body>
</html>
